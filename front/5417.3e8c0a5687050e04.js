(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5417],{7423:($e,he,b)=>{"use strict";b.d(he,{Uw:()=>we,dV:()=>z,fo:()=>J});var P=b(5861);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var O=(()=>{return(c=O||(O={})).Unimplemented="UNIMPLEMENTED",c.Unavailable="UNAVAILABLE",O;var c})();class re extends Error{constructor(r,o,h){super(r),this.message=r,this.code=o,this.data=h}}const ee=c=>{var r,o,h,u,d;const g=c.CapacitorCustomPlatform||null,p=c.Capacitor||{},v=p.Plugins=p.Plugins||{},E=c.CapacitorPlatforms,$=(null===(r=null==E?void 0:E.currentPlatform)||void 0===r?void 0:r.getPlatform)||(()=>null!==g?g.name:(c=>{var r,o;return null!=c&&c.androidBridge?"android":null!==(o=null===(r=null==c?void 0:c.webkit)||void 0===r?void 0:r.messageHandlers)&&void 0!==o&&o.bridge?"ios":"web"})(c)),K=(null===(o=null==E?void 0:E.currentPlatform)||void 0===o?void 0:o.isNativePlatform)||(()=>"web"!==$()),Y=(null===(h=null==E?void 0:E.currentPlatform)||void 0===h?void 0:h.isPluginAvailable)||(x=>{const T=Z.get(x);return!!(null!=T&&T.platforms.has($())||te(x))}),te=(null===(u=null==E?void 0:E.currentPlatform)||void 0===u?void 0:u.getPluginHeader)||(x=>{var T;return null===(T=p.PluginHeaders)||void 0===T?void 0:T.find(ue=>ue.name===x)}),Z=new Map,He=(null===(d=null==E?void 0:E.currentPlatform)||void 0===d?void 0:d.registerPlugin)||((x,T={})=>{const ue=Z.get(x);if(ue)return console.warn(`Capacitor plugin "${x}" already registered. Cannot register plugins twice.`),ue.proxy;const ce=$(),de=te(x);let j;const xe=function(){var L=(0,P.Z)(function*(){return!j&&ce in T?j=j="function"==typeof T[ce]?yield T[ce]():T[ce]:null!==g&&!j&&"web"in T&&(j=j="function"==typeof T.web?yield T.web():T.web),j});return function(){return L.apply(this,arguments)}}(),fe=L=>{let M;const U=(...Q)=>{const se=xe().then(I=>{const le=((L,M)=>{var U,Q;if(!de){if(L)return null===(Q=L[M])||void 0===Q?void 0:Q.bind(L);throw new re(`"${x}" plugin is not implemented on ${ce}`,O.Unimplemented)}{const se=null==de?void 0:de.methods.find(I=>M===I.name);if(se)return"promise"===se.rtype?I=>p.nativePromise(x,M.toString(),I):(I,le)=>p.nativeCallback(x,M.toString(),I,le);if(L)return null===(U=L[M])||void 0===U?void 0:U.bind(L)}})(I,L);if(le){const ve=le(...Q);return M=null==ve?void 0:ve.remove,ve}throw new re(`"${x}.${L}()" is not implemented on ${ce}`,O.Unimplemented)});return"addListener"===L&&(se.remove=(0,P.Z)(function*(){return M()})),se};return U.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty(U,"name",{value:L,writable:!1,configurable:!1}),U},Se=fe("addListener"),Oe=fe("removeListener"),ne=(L,M)=>{const U=Se({eventName:L},M),Q=function(){var I=(0,P.Z)(function*(){const le=yield U;Oe({eventName:L,callbackId:le},M)});return function(){return I.apply(this,arguments)}}(),se=new Promise(I=>U.then(()=>I({remove:Q})));return se.remove=(0,P.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Q()}),se},Ee=new Proxy({},{get(L,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return de?ne:Se;case"removeListener":return Oe;default:return fe(M)}}});return v[x]=Ee,Z.set(x,{name:x,proxy:Ee,platforms:new Set([...Object.keys(T),...de?[ce]:[]])}),Ee});return p.convertFileSrc||(p.convertFileSrc=x=>x),p.getPlatform=$,p.handleError=x=>c.console.error(x),p.isNativePlatform=K,p.isPluginAvailable=Y,p.pluginMethodNoop=(x,T,ue)=>Promise.reject(`${ue} does not have an implementation of "${T}".`),p.registerPlugin=He,p.Exception=re,p.DEBUG=!!p.DEBUG,p.isLoggingEnabled=!!p.isLoggingEnabled,p.platform=p.getPlatform(),p.isNative=p.isNativePlatform(),p},z=(c=>c.Capacitor=ee(c))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),J=z.registerPlugin;class we{constructor(r){this.listeners={},this.windowListeners={},r&&(console.warn(`Capacitor WebPlugin "${r.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=r)}addListener(r,o){var h=this;this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(o);const d=this.windowListeners[r];d&&!d.registered&&this.addWindowListener(d);const g=function(){var v=(0,P.Z)(function*(){return h.removeListener(r,o)});return function(){return v.apply(this,arguments)}}(),p=Promise.resolve({remove:g});return Object.defineProperty(p,"remove",{value:(v=(0,P.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield g()}),function(){return v.apply(this,arguments)})}),p;var v}removeAllListeners(){var r=this;return(0,P.Z)(function*(){r.listeners={};for(const o in r.windowListeners)r.removeWindowListener(r.windowListeners[o]);r.windowListeners={}})()}notifyListeners(r,o){const h=this.listeners[r];h&&h.forEach(u=>u(o))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,o){this.windowListeners[o]={registered:!1,windowEventName:r,pluginEventName:o,handler:h=>{this.notifyListeners(o,h)}}}unimplemented(r="not implemented"){return new z.Exception(r,O.Unimplemented)}unavailable(r="not available"){return new z.Exception(r,O.Unavailable)}removeListener(r,o){var h=this;return(0,P.Z)(function*(){const u=h.listeners[r];if(!u)return;const d=u.indexOf(o);h.listeners[r].splice(d,1),h.listeners[r].length||h.removeWindowListener(h.windowListeners[r])})()}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){!r||(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}}const F=c=>encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class me extends we{setCookie(r){return(0,P.Z)(function*(){try{const o=F(r.key),h=F(r.value),u=`; expires=${(r.expires||"").replace("expires=","")}`,d=(r.path||"/").replace("path=","");document.cookie=`${o}=${h||""}${u}; path=${d}`}catch(o){return Promise.reject(o)}})()}deleteCookie(r){return(0,P.Z)(function*(){try{document.cookie=`${r.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}})()}clearCookies(){return(0,P.Z)(function*(){try{const r=document.cookie.split(";")||[];for(const o of r)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(r){return Promise.reject(r)}})()}clearAllCookies(){var r=this;return(0,P.Z)(function*(){try{yield r.clearCookies()}catch(o){return Promise.reject(o)}})()}}J("CapacitorCookies",{web:()=>new me});const R=function(){var c=(0,P.Z)(function*(r){return new Promise((o,h)=>{const u=new FileReader;u.onload=()=>{const d=u.result;o(d.indexOf(",")>=0?d.split(",")[1]:d)},u.onerror=d=>h(d),u.readAsDataURL(r)})});return function(o){return c.apply(this,arguments)}}();class y extends we{request(r){return(0,P.Z)(function*(){const o=((c,r={})=>{const o=Object.assign({method:c.method||"GET",headers:c.headers},r),u=((c={})=>{const r=Object.keys(c);return Object.keys(c).map(u=>u.toLocaleLowerCase()).reduce((u,d,g)=>(u[d]=c[r[g]],u),{})})(c.headers)["content-type"]||"";if("string"==typeof c.data)o.body=c.data;else if(u.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[g,p]of Object.entries(c.data||{}))d.set(g,p);o.body=d.toString()}else if(u.includes("multipart/form-data")){const d=new FormData;if(c.data instanceof FormData)c.data.forEach((p,v)=>{d.append(v,p)});else for(const p of Object.keys(c.data))d.append(p,c.data[p]);o.body=d;const g=new Headers(o.headers);g.delete("content-type"),o.headers=g}else(u.includes("application/json")||"object"==typeof c.data)&&(o.body=JSON.stringify(c.data));return o})(r,r.webFetchExtra),h=((c,r=!0)=>c?Object.entries(c).reduce((h,u)=>{const[d,g]=u;let p,v;return Array.isArray(g)?(v="",g.forEach(E=>{p=r?encodeURIComponent(E):E,v+=`${d}=${p}&`}),v.slice(0,-1)):(p=r?encodeURIComponent(g):g,v=`${d}=${p}`),`${h}&${v}`},"").substr(1):null)(r.params,r.shouldEncodeUrlParams),u=h?`${r.url}?${h}`:r.url,d=yield fetch(u,o),g=d.headers.get("content-type")||"";let v,E,{responseType:p="text"}=d.ok?r:{};switch(g.includes("application/json")&&(p="json"),p){case"arraybuffer":case"blob":E=yield d.blob(),v=yield R(E);break;case"json":v=yield d.json();break;default:v=yield d.text()}const D={};return d.headers.forEach(($,V)=>{D[V]=$}),{data:v,headers:D,status:d.status,url:d.url}})()}get(r){var o=this;return(0,P.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"GET"}))})()}post(r){var o=this;return(0,P.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"POST"}))})()}put(r){var o=this;return(0,P.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"PUT"}))})()}patch(r){var o=this;return(0,P.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"PATCH"}))})()}delete(r){var o=this;return(0,P.Z)(function*(){return o.request(Object.assign(Object.assign({},r),{method:"DELETE"}))})()}}J("CapacitorHttp",{web:()=>new y})},5417:($e,he,b)=>{"use strict";b.r(he),b.d(he,{HomePageModule:()=>Bt});var P={};b.r(P),b.d(P,{Decoder:()=>qe,Encoder:()=>bt,PacketType:()=>w,protocol:()=>vt});var ie=b(9808),k=b(5056),q=b(4182),W=b(8808),S=b(655),a=b(9863),O=b(7423);const re=(0,O.fo)("CapacitorVideoPlayer",{web:()=>b.e(8789).then(b.bind(b,8789)).then(s=>new s.CapacitorVideoPlayerWeb)});var H=b(2654),ee=b(9426),Pe=b(1764);const z=(0,O.fo)("Preferences",{web:()=>b.e(8359).then(b.bind(b,8359)).then(s=>new s.PreferencesWeb)});var J=(()=>{return(s=J||(J={})).Documents="DOCUMENTS",s.Data="DATA",s.Library="LIBRARY",s.Cache="CACHE",s.External="EXTERNAL",s.ExternalStorage="EXTERNAL_STORAGE",J;var s})();const oe=(0,O.fo)("Filesystem",{web:()=>b.e(6364).then(b.bind(b,6364)).then(s=>new s.FilesystemWeb)});let F=(()=>{class s{constructor(e){this.loadingCtrl=e,this.videos=[],this.VIDEOS_KEY="videos",this.isReady=!1,this.convertBlobToBase64=n=>new Promise((i,l)=>{const m=new FileReader;m.onerror=l,m.onload=()=>{i(m.result)},m.readAsDataURL(n)})}loadVideos(){return(0,S.mG)(this,void 0,void 0,function*(){const e=yield z.get({key:this.VIDEOS_KEY});return this.videos=JSON.parse(e.value)||[],this.videos})}storeVideo(e){return(0,S.mG)(this,void 0,void 0,function*(){const n=(new Date).getTime()+".mp4",i=yield this.convertBlobToBase64(e),l=yield oe.writeFile({path:n,data:i,directory:J.Data});return this.videos.unshift(l.uri),z.set({key:this.VIDEOS_KEY,value:JSON.stringify(this.videos)})})}blobToGif(e){return(0,S.mG)(this,void 0,void 0,function*(){})}blobToBase64(e){return new Promise((n,i)=>{const l=new FileReader;l.onloadend=()=>n(l.result),l.readAsDataURL(e)})}getVideoUrl(e){return(0,S.mG)(this,void 0,void 0,function*(){const n=e.substr(e.lastIndexOf("/")+1);return`data:image/png;base64,${(yield oe.readFile({path:n,directory:J.Data})).data}`})}DataURIToBlob(e){const n=e.split(","),i=n[0].indexOf("base64")>=0?atob(n[1]):decodeURI(n[1]),l=n[0].split(":")[1].split(";")[0],m=new Uint8Array(i.length);for(let C=0;C<i.length;C++)m[C]=i.charCodeAt(C);return new Blob([m],{type:l})}}return s.\u0275fac=function(e){return new(e||s)(a.LFG(k.HT))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var me=b(6858),ge=b(8819),R=b(1188),_=b(6498);const N=Object.create(null);N.open="0",N.close="1",N.ping="2",N.pong="3",N.message="4",N.upgrade="5",N.noop="6";const ae=Object.create(null);Object.keys(N).forEach(s=>{ae[N[s]]=s});const y={type:"error",data:"parser error"},f="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"==typeof ArrayBuffer,h=(s,t)=>{const e=new FileReader;return e.onload=function(){const n=e.result.split(",")[1];t("b"+n)},e.readAsDataURL(s)},u=({type:s,data:t},e,n)=>f&&t instanceof Blob?e?n(t):h(t,n):c&&(t instanceof ArrayBuffer||(s=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer)(t))?e?n(t):h(new Blob([t]),n):n(N[s]+(t||"")),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let s=0;s<d.length;s++)g[d.charCodeAt(s)]=s;const E="function"==typeof ArrayBuffer,$=(s,t)=>{if(E){const e=(s=>{let n,l,m,C,G,t=.75*s.length,e=s.length,i=0;"="===s[s.length-1]&&(t--,"="===s[s.length-2]&&t--);const be=new ArrayBuffer(t),pe=new Uint8Array(be);for(n=0;n<e;n+=4)l=g[s.charCodeAt(n)],m=g[s.charCodeAt(n+1)],C=g[s.charCodeAt(n+2)],G=g[s.charCodeAt(n+3)],pe[i++]=l<<2|m>>4,pe[i++]=(15&m)<<4|C>>2,pe[i++]=(3&C)<<6|63&G;return be})(s);return V(e,t)}return{base64:!0,data:s}},V=(s,t)=>"blob"===t&&s instanceof ArrayBuffer?new Blob([s]):s,K=(s,t)=>{if("string"!=typeof s)return{type:"message",data:V(s,t)};const e=s.charAt(0);return"b"===e?{type:"message",data:$(s.substring(1),t)}:ae[e]?s.length>1?{type:ae[e],data:s.substring(1)}:{type:ae[e]}:y},B=String.fromCharCode(30);function A(s){if(s)return function Ue(s){for(var t in A.prototype)s[t]=A.prototype[t];return s}(s)}A.prototype.on=A.prototype.addEventListener=function(s,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(t),this},A.prototype.once=function(s,t){function e(){this.off(s,e),t.apply(this,arguments)}return e.fn=t,this.on(s,e),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(s,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+s];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+s],this;for(var n,i=0;i<e.length;i++)if((n=e[i])===t||n.fn===t){e.splice(i,1);break}return 0===e.length&&delete this._callbacks["$"+s],this},A.prototype.emitReserved=A.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+s],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){n=0;for(var i=(e=e.slice(0)).length;n<i;++n)e[n].apply(this,t)}return this},A.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]},A.prototype.hasListeners=function(s){return!!this.listeners(s).length};const Z="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Ae(s,...t){return t.reduce((e,n)=>(s.hasOwnProperty(n)&&(e[n]=s[n]),e),{})}const He=setTimeout,x=clearTimeout;function T(s,t){t.useNativeTimers?(s.setTimeoutFn=He.bind(Z),s.clearTimeoutFn=x.bind(Z)):(s.setTimeoutFn=setTimeout.bind(Z),s.clearTimeoutFn=clearTimeout.bind(Z))}function ce(s){return"string"==typeof s?function de(s){let t=0,e=0;for(let n=0,i=s.length;n<i;n++)t=s.charCodeAt(n),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(n++,e+=4);return e}(s):Math.ceil(1.33*(s.byteLength||s.size))}class j extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class xe extends A{constructor(t){super(),this.writable=!1,T(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new j(t,e,n)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=K(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const Le="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Se={};let Ee,Oe=0,ne=0;function L(s){let t="";do{t=Le[s%64]+t,s=Math.floor(s/64)}while(s>0);return t}function U(){const s=L(+new Date);return s!==Ee?(Oe=0,Ee=s):s+"."+L(Oe++)}for(;ne<64;ne++)Se[Le[ne]]=ne;function Q(s){let t="";for(let e in s)s.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(s[e]));return t}let I=!1;try{I="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(s){}const le=I;function ve(s){const t=s.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||le))return new XMLHttpRequest}catch(e){}if(!t)try{return new(Z[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function tt(){}const nt=null!=new ve({xdomain:!1}).responseType;let Be=(()=>{class s extends A{constructor(e,n){super(),T(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.async=!1!==n.async,this.data=void 0!==n.data?n.data:null,this.create()}create(){const e=Ae(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const n=this.xhr=new ve(e);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch(i){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{n.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof n.status?n.status:0)},0))},n.send(this.data)}catch(i){return void this.setTimeoutFn(()=>{this.onError(i)},0)}"undefined"!=typeof document&&(this.index=s.requestsCount++,s.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(null!=this.xhr){if(this.xhr.onreadystatechange=tt,e)try{this.xhr.abort()}catch(n){}"undefined"!=typeof document&&delete s.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return s.requestsCount=0,s.requests={},s})();function ze(){for(let s in Be.requests)Be.requests.hasOwnProperty(s)&&Be.requests[s].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",ze):"function"==typeof addEventListener&&addEventListener("onpagehide"in Z?"pagehide":"unload",ze,!1));const Je="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Ne=Z.WebSocket||Z.MozWebSocket,Ke="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),ot={websocket:class rt extends xe{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=Ke?{}:Ae(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ke?new Ne(t,e,n):e?new Ne(t,e):new Ne(t)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const i=e===t.length-1;u(t[e],this.supportsBinary,l=>{try{this.ws.send(l)}catch(C){}i&&Je(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=U()),this.supportsBinary||(t.b64=1);const i=Q(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!Ne}},polling:class st extends xe{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const n="https:"===location.protocol;let i=location.port;i||(i=n?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||i!==t.port,this.xs=t.secure!==n}this.supportsBinary=nt&&!(t&&t.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((s,t)=>{const e=s.split(B),n=[];for(let i=0;i<e.length;i++){const l=K(e[i],t);if(n.push(l),"error"===l.type)break}return n})(t,this.socket.binaryType).forEach(n=>{if("opening"===this.readyState&&"open"===n.type&&this.onOpen(),"close"===n.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((s,t)=>{const e=s.length,n=new Array(e);let i=0;s.forEach((l,m)=>{u(l,!1,C=>{n[m]=C,++i===e&&t(n.join(B))})})})(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=U()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const i=Q(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Be(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(i,l)=>{this.onError("xhr post error",i,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=t}}},at=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ct=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ve(s){const t=s,e=s.indexOf("["),n=s.indexOf("]");-1!=e&&-1!=n&&(s=s.substring(0,e)+s.substring(e,n).replace(/:/g,";")+s.substring(n,s.length));let i=at.exec(s||""),l={},m=14;for(;m--;)l[ct[m]]=i[m]||"";return-1!=e&&-1!=n&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=function lt(s,t){const n=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.slice(0,1)||0===t.length)&&n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,l.path),l.queryKey=function ht(s,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,l){i&&(e[i]=l)}),e}(0,l.query),l}let je=(()=>{class s extends A{constructor(e,n={}){super(),e&&"object"==typeof e&&(n=e,e=null),e?(e=Ve(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=Ve(n.host).host),T(this,n),this.secure=null!=n.secure?n.secure:"undefined"!=typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=n.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function se(s){let t={},e=s.split("&");for(let n=0,i=e.length;n<i;n++){let l=e[n].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=4,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ot[e](i)}open(){let e;if(this.opts.rememberUpgrade&&s.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),i=!1;s.priorWebsocketSuccess=!1;const l=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",Ce=>{if(!i)if("pong"===Ce.type&&"probe"===Ce.data){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;s.priorWebsocketSuccess="websocket"===n.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(et(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const Re=new Error("probe error");Re.transport=n.name,this.emitReserved("upgradeError",Re)}}))};function m(){i||(i=!0,et(),n.close(),n=null)}const C=Ce=>{const Re=new Error("probe error: "+Ce);Re.transport=n.name,m(),this.emitReserved("upgradeError",Re)};function G(){C("transport closed")}function be(){C("socket closed")}function pe(Ce){n&&Ce.name!==n.name&&m()}const et=()=>{n.removeListener("open",l),n.removeListener("error",C),n.removeListener("close",G),this.off("close",be),this.off("upgrading",pe)};n.once("open",l),n.once("error",C),n.once("close",G),this.once("close",be),this.once("upgrading",pe),n.open()}onOpen(){if(this.readyState="open",s.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const l=this.writeBuffer[i].data;if(l&&(n+=ce(l)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(e,n,i){return this.sendPacket("message",e,n,i),this}send(e,n,i){return this.sendPacket("message",e,n,i),this}sendPacket(e,n,i,l){if("function"==typeof n&&(l=n,n=void 0),"function"==typeof i&&(l=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;const m={type:e,data:n,options:i};this.emitReserved("packetCreate",m),this.writeBuffer.push(m),l&&this.once("flush",l),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){s.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let i=0;const l=e.length;for(;i<l;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}return s.protocol=4,s})();const dt="function"==typeof ArrayBuffer,Qe=Object.prototype.toString,pt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Qe.call(Blob),mt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Qe.call(File);function Ye(s){return dt&&(s instanceof ArrayBuffer||(s=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer)(s))||pt&&s instanceof Blob||mt&&s instanceof File}function De(s,t){if(!s||"object"!=typeof s)return!1;if(Array.isArray(s)){for(let e=0,n=s.length;e<n;e++)if(De(s[e]))return!0;return!1}if(Ye(s))return!0;if(s.toJSON&&"function"==typeof s.toJSON&&1===arguments.length)return De(s.toJSON(),!0);for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)&&De(s[e]))return!0;return!1}function gt(s){const t=[],n=s;return n.data=Ze(s.data,t),n.attachments=t.length,{packet:n,buffers:t}}function Ze(s,t){if(!s)return s;if(Ye(s)){const e={_placeholder:!0,num:t.length};return t.push(s),e}if(Array.isArray(s)){const e=new Array(s.length);for(let n=0;n<s.length;n++)e[n]=Ze(s[n],t);return e}if("object"==typeof s&&!(s instanceof Date)){const e={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=Ze(s[n],t));return e}return s}function yt(s,t){return s.data=Ge(s.data,t),s.attachments=void 0,s}function Ge(s,t){if(!s)return s;if(s&&!0===s._placeholder){if("number"==typeof s.num&&s.num>=0&&s.num<t.length)return t[s.num];throw new Error("illegal attachments")}if(Array.isArray(s))for(let e=0;e<s.length;e++)s[e]=Ge(s[e],t);else if("object"==typeof s)for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&(s[e]=Ge(s[e],t));return s}const vt=5;var w=(()=>{return(s=w||(w={}))[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK",w;var s})();class bt{constructor(t){this.replacer=t}encode(t){return t.type!==w.EVENT&&t.type!==w.ACK||!De(t)?[this.encodeAsString(t)]:(t.type=t.type===w.EVENT?w.BINARY_EVENT:w.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return(t.type===w.BINARY_EVENT||t.type===w.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=gt(t),n=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(n),i}}class qe extends A{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t),e.type===w.BINARY_EVENT||e.type===w.BINARY_ACK?(this.reconstructor=new wt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Ye(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===w[n.type])throw new Error("unknown packet type "+n.type);if(n.type===w.BINARY_EVENT||n.type===w.BINARY_ACK){const l=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const m=t.substring(l,e);if(m!=Number(m)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(m)}if("/"===t.charAt(e+1)){const l=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(l,e)}else n.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const l=e+1;for(;++e;){const m=t.charAt(e);if(null==m||Number(m)!=m){--e;break}if(e===t.length)break}n.id=Number(t.substring(l,e+1))}if(t.charAt(++e)){const l=this.tryParse(t.substr(e));if(!qe.isPayloadValid(n.type,l))throw new Error("invalid payload");n.data=l}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}static isPayloadValid(t,e){switch(t){case w.CONNECT:return"object"==typeof e;case w.DISCONNECT:return void 0===e;case w.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case w.EVENT:case w.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case w.ACK:case w.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class wt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=yt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function X(s,t,e){return s.on(t,e),function(){s.off(t,e)}}const Et=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Xe extends A{constructor(t,e,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[X(t,"open",this.onopen.bind(this)),X(t,"packet",this.onpacket.bind(this)),X(t,"error",this.onerror.bind(this)),X(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(Et.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');e.unshift(t);const n={type:w.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const m=this.ids++,C=e.pop();this._registerAckCallback(m,C),n.id=m}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){const n=this.flags.timeout;if(void 0===n)return void(this.acks[t]=e);const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);e.call(this,new Error("operation has timed out"))},n);this.acks[t]=(...l)=>{this.io.clearTimeoutFn(i),e.apply(this,[null,...l])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this.packet({type:w.CONNECT,data:t})}):this.packet({type:w.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case w.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case w.EVENT:case w.BINARY_EVENT:this.onevent(t);break;case w.ACK:case w.BINARY_ACK:this.onack(t);break;case w.DISCONNECT:this.ondisconnect();break;case w.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let n=!1;return function(...i){n||(n=!0,e.packet({type:w.ACK,id:t,data:i}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:w.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function _e(s){this.ms=(s=s||{}).min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}_e.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*s);s=0==(1&Math.floor(10*t))?s-e:s+e}return 0|Math.min(s,this.max)},_e.prototype.reset=function(){this.attempts=0},_e.prototype.setMin=function(s){this.ms=s},_e.prototype.setMax=function(s){this.max=s},_e.prototype.setJitter=function(s){this.jitter=s};class We extends A{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,T(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new _e({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const i=e.parser||P;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new je(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=X(e,"open",function(){n.onopen(),t&&t()}),l=X(e,"error",m=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",m),t?t(m):n.maybeReconnectOnOpen()});if(!1!==this._timeout){const m=this._timeout;0===m&&i();const C=this.setTimeoutFn(()=>{i(),e.close(),e.emit("error",new Error("timeout"))},m);this.opts.autoUnref&&C.unref(),this.subs.push(function(){clearTimeout(C)})}return this.subs.push(i),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(X(t,"ping",this.onping.bind(this)),X(t,"data",this.ondata.bind(this)),X(t,"error",this.onerror.bind(this)),X(t,"close",this.onclose.bind(this)),X(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Je(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new Xe(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Te={};function Me(s,t){"object"==typeof s&&(t=s,s=void 0);const e=function ut(s,t="",e){let n=s;e=e||"undefined"!=typeof location&&location,null==s&&(s=e.protocol+"//"+e.host),"string"==typeof s&&("/"===s.charAt(0)&&(s="/"===s.charAt(1)?e.protocol+s:e.host+s),/^(https?|wss?):\/\//.test(s)||(s=void 0!==e?e.protocol+"//"+s:"https://"+s),n=Ve(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const l=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+t,n.href=n.protocol+"://"+l+(e&&e.port===n.port?"":":"+n.port),n}(s,(t=t||{}).path||"/socket.io"),n=e.source,i=e.id;let G;return t.forceNew||t["force new connection"]||!1===t.multiplex||Te[i]&&e.path in Te[i].nsps?G=new We(n,t):(Te[i]||(Te[i]=new We(n,t)),G=Te[i]),e.query&&!t.query&&(t.query=e.queryKey),G.socket(e.path,t)}Object.assign(Me,{Manager:We,Socket:Xe,io:Me,connect:Me});let _t=(()=>{class s{constructor(){this.url="https://192.168.1.104:3000/",this.socket=Me(this.url),console.log(this.socket),setTimeout(()=>{!0===this.socket.connected&&(this.socketID=this.socket.id,console.log(this.socketID))},300)}listen(e){return new _.y(n=>{this.socket.on(e,i=>{n.next(i)})})}emit(e,n){this.socket.emit(e,n)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ct=["video"],Pt=["delayEffect"],kt=["recordEffect"];function St(s,t){if(1&s){const e=a.EpF();a.TgZ(0,"ion-button",15),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.navBack())}),a._UZ(1,"ion-icon",16),a.qZA()}}function Ot(s,t){if(1&s){const e=a.EpF();a.TgZ(0,"ion-fab",17)(1,"ion-fab-button",18),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.startVideo())}),a._UZ(2,"ion-icon",19),a.qZA()()}if(2&s){const e=a.oxw();a.Q6J("vertical",e.position)("hidden",e.isRecording)}}function Tt(s,t){if(1&s){const e=a.EpF();a.TgZ(0,"ion-fab-button",15),a.NdJ("click",function(){a.CHM(e);const i=a.oxw(2);return a.KtG(i.isRecording?i.stopRecord():i.delayRecord())}),a._UZ(1,"ion-icon",21),a.qZA()}if(2&s){const e=a.oxw(2);a.xp6(1),a.Q6J("name",e.isRecording?"stop":"videocam")}}function Rt(s,t){if(1&s&&(a.TgZ(0,"ion-fab",20),a.YNc(1,Tt,2,1,"ion-fab-button",1),a.qZA()),2&s){const e=a.oxw();a.Q6J("vertical",e.position)("hidden",e.isRecording),a.xp6(1),a.Q6J("ngIf",!e.delayStarted)}}function At(s,t){if(1&s){const e=a.EpF();a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",15),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.cancel())}),a._uU(4,"Fechar"),a.qZA()(),a.TgZ(5,"ion-title"),a._uU(6,"Configura\xe7\xe3o"),a.qZA()()(),a.TgZ(7,"ion-content",22)(8,"div"),a._UZ(9,"ion-list"),a.qZA()()}}const xt=[{path:"",component:(()=>{class s{constructor(e,n,i,l,m,C,G,be,pe){this.videoService=e,this.changeDetector=n,this.http=i,this.eventoService=l,this.router=m,this.storage=C,this.socket=G,this.toastController=be,this.animationCtrl=pe,this.isRecording=!1,this.videos=[],this.counter=1,this.camera="user",this.efeito=0,this.segundos=12e3,this.delay=8,this.isReady=!1,this.showCamera=!1,this.subscription=new H.w,this.delayStarted=!1,this.position="top"}ngOnInit(){return(0,S.mG)(this,void 0,void 0,function*(){const e=this.storage.get("selectedEvento")||null;this.subscription=this.eventoService.currentConfig.subscribe(n=>(0,S.mG)(this,void 0,void 0,function*(){null==JSON.stringify(n)?e?(this.apiUrl=this.storage.get("apiUrl")||"",this.evento=e,this.position=e.position?e.position:"center",console.log(typeof e.vNormal),console.log(typeof e.vFast),console.log(typeof e.vSlow),e.vNormal=parseInt(e.vNormal,10),e.vFast=parseInt(e.vFast,10),e.vSlow=parseInt(e.vSlow,10),this.eventoDetails={name:e.nome.replace(/[^A-Z0-9]+/gi,"_"),audio:"null"!==e.audioName?e.audioName:"",frame:"null"!==e.frameName?e.frameName:"",vNormal:e.vNormal,vFast:e.vFast,vSlow:e.vSlow},this.segundos=1e3*this.evento.tempo,this.apiUrl.length&&ee.P.get("apiUrl").emit(this.apiUrl)):this.router.navigate(["config"]):(this.evento=n,this.storage.set("selectedEvento",n),this.position=n.position?n.position:"center",this.segundos=1e3*this.evento.tempo,console.log(typeof n.vNormal),console.log(typeof n.vFast),console.log(typeof n.vSlow),n.vNormal=parseInt(n.vNormal,10),n.vFast=parseInt(n.vFast,10),n.vSlow=parseInt(n.vSlow,10),this.eventoDetails={name:n.nome.replace(/[^A-Z0-9]+/gi,"_"),audio:"null"!==n.audioName?n.audioName:"",frame:"null"!==n.frameName?n.frameName:"",vNormal:n.vNormal,vFast:n.vFast,vSlow:n.vSlow})})),this.socketListen()})}ngAfterViewInit(){return(0,S.mG)(this,void 0,void 0,function*(){this.videos=yield this.videoService.loadVideos(),this.videoPlayer=re})}ngOnDestroy(){this.subscription.unsubscribe(),this.eventoDetails=null,this.storage.remove("selectedEvento"),this.stream&&this.stream.getTracks().forEach(e=>{e.stop()})}socketListen(){this.socket.listen("startGiraGira").subscribe(e=>{console.log(this.router.url),"/home"===this.router.url&&e.data&&(this.startVideo(),setTimeout(()=>{this.delayRecord()},500))})}changeSegundos(e){}pulse(){this.animationCtrl.create().addElement(this.delayEffect.nativeElement).duration(1e3).fromTo("opacity","1","0").iterations(1/0).keyframes([{offset:0,transform:"scale(1.5) ",opacity:"0",filter:"blur(10px)"},{offset:.5,transform:"scale(0.85) ",opacity:"0.75",filter:"blur(5px)"},{offset:1,transform:"scale(0.4) ",opacity:"1",filter:"blur(0)"}]).play()}pulseRecord(){this.animationCtrl.create().addElement(this.recordEffect.nativeElement).duration(1e3).fromTo("opacity","1","0").iterations(1/0).keyframes([{offset:0,transform:"scale(1.5) ",opacity:"0",filter:"blur(10px)"},{offset:.5,transform:"scale(0.85) ",opacity:"0.75",filter:"blur(5px)"},{offset:1,transform:"scale(0.4) ",opacity:"1",filter:"blur(0)"}]).play()}startVideo(){return(0,S.mG)(this,void 0,void 0,function*(){let e;this.showCamera=!0,this.changeDetector.detectChanges(),this.stream=yield navigator.mediaDevices.getUserMedia({video:{width:{ideal:1080},height:{ideal:720},deviceId:this.evento.videoInput.deviceId?this.evento.videoInput.deviceId:void 0},audio:!1}),this.captureElement.nativeElement.srcObject=this.stream,MediaRecorder.isTypeSupported("video/webm")?e={mimeType:"video/webm"}:MediaRecorder.isTypeSupported("video/webm; codecs=vp9")?e={mimeType:"video/webm; codecs=vp9"}:MediaRecorder.isTypeSupported("video/mp4")?e={mimeType:"video/mp4"}:console.error("no suitable mimetype found for this device"),this.mediaRecorder=new MediaRecorder(this.stream,e),this.changeDetector.detectChanges()})}delayRecord(){return(0,S.mG)(this,void 0,void 0,function*(){this.pulse(),this.delayStarted=!0,this.changeDetector.detectChanges(),this.intervalDelay=setInterval(()=>{this.delay--,0===this.delay&&(this.recordVideo(),this.delay=8),2===this.delay&&this.startGiraGira(),this.changeDetector.detectChanges()},1e3)})}startGiraGira(){return(0,S.mG)(this,void 0,void 0,function*(){this.http.startGiraGira()})}recordVideo(){return(0,S.mG)(this,void 0,void 0,function*(){clearInterval(this.intervalDelay),this.delayStarted=!1,this.isRecording=!0;let e=[];this.changeDetector.detectChanges(),this.counter=0,this.interval=setInterval(()=>{this.counter++,this.changeDetector.detectChanges()},1e3),setTimeout(()=>{this.stopRecord()},this.segundos),this.mediaRecorder.onstop=n=>(0,S.mG)(this,void 0,void 0,function*(){const i=new Blob(e,{type:"video/mp4"}),l=Pe().format("YYYY-MM-DD_HH_mm_ss")+".mp4";yield this.videoService.storeVideo(i);const m=new FormData;console.log(l),m.append("evento",JSON.stringify(this.eventoDetails)),m.append("file",i,l),m.forEach(C=>{}),this.http.sendVideo(m),this.mediaRecorder=null,this.showCamera=!1,this.stream=null,this.captureElement.nativeElement.srcObject=null,this.videos=this.videoService.videos,this.changeDetector.detectChanges(),setTimeout(()=>{this.http.stopGiraGira()},1e3)}),this.mediaRecorder.ondataavailable=n=>{n.data&&n.data.size>0&&e.push(n.data)},this.mediaRecorder.start(100),this.isRecording=!0})}stopRecord(){clearInterval(this.interval),this.stream.getTracks().forEach(e=>{e.stop()}),this.counter=1,this.mediaRecorder=null,this.captureElement.nativeElement.srcObject=null,this.isRecording=!1,this.changeDetector.detectChanges()}sendVideo(e){return(0,S.mG)(this,void 0,void 0,function*(){const n=yield this.videoService.getVideoUrl(e),i=(new Date).getTime()+".mp4",l=yield this.videoService.DataURIToBlob(n),m=new FormData;m.append("file",l,i),this.http.sendVideo(m)})}blobToGif(e){return(0,S.mG)(this,void 0,void 0,function*(){const n=yield this.videoService.getVideoUrl(e);yield this.videoService.DataURIToBlob(n)})}play(e){return(0,S.mG)(this,void 0,void 0,function*(){const n=yield this.videoService.getVideoUrl(e);yield this.videoPlayer.initPlayer({mode:"fullscreen",url:n,playerId:"fullscreen",componentTag:"app-home"})})}cancel(){this.modal.dismiss(null,"cancel")}selectVideoSource(e){}navBack(){this.stream&&this.stopRecord(),this.router.navigate(["config"])}}return s.\u0275fac=function(e){return new(e||s)(a.Y36(F),a.Y36(a.sBO),a.Y36(me.O),a.Y36(ge.k),a.Y36(W.F0),a.Y36(R.V),a.Y36(_t),a.Y36(k.yF),a.Y36(k.vB))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-home"]],viewQuery:function(e,n){if(1&e&&(a.Gf(Ct,5),a.Gf(k.ki,5),a.Gf(Pt,7,a.SBq),a.Gf(kt,7,a.SBq)),2&e){let i;a.iGM(i=a.CRH())&&(n.captureElement=i.first),a.iGM(i=a.CRH())&&(n.modal=i.first),a.iGM(i=a.CRH())&&(n.delayEffect=i.first),a.iGM(i=a.CRH())&&(n.recordEffect=i.first)}},decls:22,vars:12,consts:[["slot","start"],[3,"click",4,"ngIf"],["slot","end"],[2,"text-align","center"],[3,"fullscreen"],[1,"icon",2,"z-index","999","font-size","7rem","background","none","margin-top","2rem",3,"hidden","ngClass"],["recordEffect",""],["autoplay","","playsinline","","muted","","width","100%","height","100%","horizontal","center",1,"video",3,"hidden"],["video",""],[1,"icon",2,"z-index","999","font-size","7rem","background","none","margin-top","2.5rem",3,"hidden","ngClass"],["delayEffect",""],["id","fullscreen","slot","fixed"],["horizontal","center","slot","fixed","style","zoom: 2;",3,"vertical","hidden",4,"ngIf"],["horizontal","center","slot","fixed","style","zoom: 2;","id","contagem",3,"vertical","hidden",4,"ngIf"],["trigger","open-modal-config"],[3,"click"],["slot","icon-only","name","arrow-back"],["horizontal","center","slot","fixed",2,"zoom","2",3,"vertical","hidden"],["color","new",3,"click"],["name","checkmark-circle-outline"],["horizontal","center","slot","fixed","id","contagem",2,"zoom","2",3,"vertical","hidden"],[3,"name"],[1,"ion-padding"]],template:function(e,n){1&e&&(a.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),a.YNc(3,St,2,0,"ion-button",1),a.qZA(),a._UZ(4,"ion-buttons",2),a.TgZ(5,"ion-title",3),a._uU(6),a.qZA()()(),a.TgZ(7,"ion-content",4)(8,"ion-chip",5,6),a._uU(10),a.qZA(),a._UZ(11,"video",7,8),a.TgZ(13,"ion-chip",9,10),a._uU(15),a.qZA(),a._UZ(16,"div",11),a.YNc(17,Ot,3,2,"ion-fab",12),a.GkF(18),a.YNc(19,Rt,2,3,"ion-fab",13),a.TgZ(20,"ion-modal",14),a.YNc(21,At,10,0,"ng-template"),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf",!n.showCamera),a.xp6(3),a.hij(" ",n.evento.nome," "),a.xp6(1),a.Q6J("fullscreen",!0),a.xp6(1),a.Q6J("hidden",!n.isRecording||0===n.counter)("ngClass","top"===n.position?"position-top":"center"===n.position?"position-center":"position-bottom"),a.xp6(2),a.Oqu(n.counter),a.xp6(1),a.Q6J("hidden",!n.showCamera),a.xp6(2),a.Q6J("hidden",8===n.delay)("ngClass","top"===n.position?"position-top":"center"===n.position?"position-center":"position-bottom"),a.xp6(2),a.Oqu(n.delay),a.xp6(2),a.Q6J("ngIf",8===n.delay&&!1===n.showCamera),a.xp6(2),a.Q6J("ngIf",8===n.delay&&!0===n.showCamera))},dependencies:[ie.mk,ie.O5,k.YG,k.Sm,k.hM,k.W2,k.IJ,k.W4,k.Gu,k.gu,k.q_,k.wd,k.sr,k.ki],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.video[_ngcontent-%COMP%]{width:100%;height:100%}.icon[_ngcontent-%COMP%]{position:fixed;left:40%;top:40%;min-height:7rem;color:#fff;text-shadow:1px 1px 5px black}.footer[_ngcontent-%COMP%]{background:#272727!important;width:100%}.position-top[_ngcontent-%COMP%]{top:5%}.position-center[_ngcontent-%COMP%]{top:40%}.position-bottom[_ngcontent-%COMP%]{top:80%}main[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}video[_ngcontent-%COMP%]{width:100%!important}"]}),s})()}];let Lt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[W.Bz.forChild(xt),W.Bz]}),s})(),Bt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[ie.ez,q.u5,k.Pc,Lt]}),s})()},1764:function($e){$e.exports=function(){"use strict";var b=6e4,P=36e5,ie="millisecond",k="second",q="minute",W="hour",S="day",a="week",O="month",re="quarter",H="year",ee="date",Pe="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,J=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ie={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var f=["th","st","nd","rd"],c=y%100;return"["+y+(f[(c-20)%10]||f[c]||f[0])+"]"}},ke=function(y,f,c){var r=String(y);return!r||r.length>=f?y:""+Array(f+1-r.length).join(c)+y},we={s:ke,z:function(y){var f=-y.utcOffset(),c=Math.abs(f),r=Math.floor(c/60),o=c%60;return(f<=0?"+":"-")+ke(r,2,"0")+":"+ke(o,2,"0")},m:function y(f,c){if(f.date()<c.date())return-y(c,f);var r=12*(c.year()-f.year())+(c.month()-f.month()),o=f.clone().add(r,O),h=c-o<0,u=f.clone().add(r+(h?-1:1),O);return+(-(r+(c-o)/(h?o-u:u-o))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:O,y:H,w:a,d:S,D:ee,h:W,m:q,s:k,ms:ie,Q:re}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return void 0===y}},oe="en",F={};F[oe]=Ie;var me=function(y){return y instanceof N},ge=function y(f,c,r){var o;if(!f)return oe;if("string"==typeof f){var h=f.toLowerCase();F[h]&&(o=h),c&&(F[h]=c,o=h);var u=f.split("-");if(!o&&u.length>1)return y(u[0])}else{var d=f.name;F[d]=f,o=d}return!r&&o&&(oe=o),o||!r&&oe},R=function(y,f){if(me(y))return y.clone();var c="object"==typeof f?f:{};return c.date=y,c.args=arguments,new N(c)},_=we;_.l=ge,_.i=me,_.w=function(y,f){return R(y,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var N=function(){function y(c){this.$L=ge(c.locale,null,!0),this.parse(c)}var f=y.prototype;return f.parse=function(c){this.$d=function(r){var o=r.date,h=r.utc;if(null===o)return new Date(NaN);if(_.u(o))return new Date;if(o instanceof Date)return new Date(o);if("string"==typeof o&&!/Z$/i.test(o)){var u=o.match(z);if(u){var d=u[2]-1||0,g=(u[7]||"0").substring(0,3);return h?new Date(Date.UTC(u[1],d,u[3]||1,u[4]||0,u[5]||0,u[6]||0,g)):new Date(u[1],d,u[3]||1,u[4]||0,u[5]||0,u[6]||0,g)}}return new Date(o)}(c),this.$x=c.x||{},this.init()},f.init=function(){var c=this.$d;this.$y=c.getFullYear(),this.$M=c.getMonth(),this.$D=c.getDate(),this.$W=c.getDay(),this.$H=c.getHours(),this.$m=c.getMinutes(),this.$s=c.getSeconds(),this.$ms=c.getMilliseconds()},f.$utils=function(){return _},f.isValid=function(){return this.$d.toString()!==Pe},f.isSame=function(c,r){var o=R(c);return this.startOf(r)<=o&&o<=this.endOf(r)},f.isAfter=function(c,r){return R(c)<this.startOf(r)},f.isBefore=function(c,r){return this.endOf(r)<R(c)},f.$g=function(c,r,o){return _.u(c)?this[r]:this.set(o,c)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(c,r){var o=this,h=!!_.u(r)||r,u=_.p(c),d=function(K,B){var Y=_.w(o.$u?Date.UTC(o.$y,B,K):new Date(o.$y,B,K),o);return h?Y:Y.endOf(S)},g=function(K,B){return _.w(o.toDate()[K].apply(o.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(B)),o)},p=this.$W,v=this.$M,E=this.$D,D="set"+(this.$u?"UTC":"");switch(u){case H:return h?d(1,0):d(31,11);case O:return h?d(1,v):d(0,v+1);case a:var $=this.$locale().weekStart||0,V=(p<$?p+7:p)-$;return d(h?E-V:E+(6-V),v);case S:case ee:return g(D+"Hours",0);case W:return g(D+"Minutes",1);case q:return g(D+"Seconds",2);case k:return g(D+"Milliseconds",3);default:return this.clone()}},f.endOf=function(c){return this.startOf(c,!1)},f.$set=function(c,r){var o,h=_.p(c),u="set"+(this.$u?"UTC":""),d=(o={},o[S]=u+"Date",o[ee]=u+"Date",o[O]=u+"Month",o[H]=u+"FullYear",o[W]=u+"Hours",o[q]=u+"Minutes",o[k]=u+"Seconds",o[ie]=u+"Milliseconds",o)[h],g=h===S?this.$D+(r-this.$W):r;if(h===O||h===H){var p=this.clone().set(ee,1);p.$d[d](g),p.init(),this.$d=p.set(ee,Math.min(this.$D,p.daysInMonth())).$d}else d&&this.$d[d](g);return this.init(),this},f.set=function(c,r){return this.clone().$set(c,r)},f.get=function(c){return this[_.p(c)]()},f.add=function(c,r){var o,h=this;c=Number(c);var u=_.p(r),d=function(v){var E=R(h);return _.w(E.date(E.date()+Math.round(v*c)),h)};if(u===O)return this.set(O,this.$M+c);if(u===H)return this.set(H,this.$y+c);if(u===S)return d(1);if(u===a)return d(7);var g=(o={},o[q]=b,o[W]=P,o[k]=1e3,o)[u]||1,p=this.$d.getTime()+c*g;return _.w(p,this)},f.subtract=function(c,r){return this.add(-1*c,r)},f.format=function(c){var r=this,o=this.$locale();if(!this.isValid())return o.invalidDate||Pe;var h=c||"YYYY-MM-DDTHH:mm:ssZ",u=_.z(this),d=this.$H,g=this.$m,p=this.$M,v=o.weekdays,E=o.months,D=function(B,Y,ye,te){return B&&(B[Y]||B(r,h))||ye[Y].slice(0,te)},$=function(B){return _.s(d%12||12,B,"0")},V=o.meridiem||function(B,Y,ye){var te=B<12?"AM":"PM";return ye?te.toLowerCase():te},K={YY:String(this.$y).slice(-2),YYYY:this.$y,M:p+1,MM:_.s(p+1,2,"0"),MMM:D(o.monthsShort,p,E,3),MMMM:D(E,p),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:D(o.weekdaysMin,this.$W,v,2),ddd:D(o.weekdaysShort,this.$W,v,3),dddd:v[this.$W],H:String(d),HH:_.s(d,2,"0"),h:$(1),hh:$(2),a:V(d,g,!0),A:V(d,g,!1),m:String(g),mm:_.s(g,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:u};return h.replace(J,function(B,Y){return Y||K[B]||u.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(c,r,o){var h,u=_.p(r),d=R(c),g=(d.utcOffset()-this.utcOffset())*b,p=this-d,v=_.m(this,d);return v=(h={},h[H]=v/12,h[O]=v,h[re]=v/3,h[a]=(p-g)/6048e5,h[S]=(p-g)/864e5,h[W]=p/P,h[q]=p/b,h[k]=p/1e3,h)[u]||p,o?v:_.a(v)},f.daysInMonth=function(){return this.endOf(O).$D},f.$locale=function(){return F[this.$L]},f.locale=function(c,r){if(!c)return this.$L;var o=this.clone(),h=ge(c,r,!0);return h&&(o.$L=h),o},f.clone=function(){return _.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},y}(),ae=N.prototype;return R.prototype=ae,[["$ms",ie],["$s",k],["$m",q],["$H",W],["$W",S],["$M",O],["$y",H],["$D",ee]].forEach(function(y){ae[y[1]]=function(f){return this.$g(f,y[0],y[1])}}),R.extend=function(y,f){return y.$i||(y(f,N,R),y.$i=!0),R},R.locale=ge,R.isDayjs=me,R.unix=function(y){return R(1e3*y)},R.en=F[oe],R.Ls=F,R.p={},R}()}}]);