(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5417],{7423:($e,he,b)=>{"use strict";b.d(he,{Uw:()=>we,dV:()=>z,fo:()=>J});var k=b(5861);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var S=(()=>{return(c=S||(S={})).Unimplemented="UNIMPLEMENTED",c.Unavailable="UNAVAILABLE",S;var c})();class re extends Error{constructor(o,a,h){super(o),this.message=o,this.code=a,this.data=h}}const ee=c=>{var o,a,h,u,d;const g=c.CapacitorCustomPlatform||null,p=c.Capacitor||{},v=p.Plugins=p.Plugins||{},_=c.CapacitorPlatforms,$=(null===(o=null==_?void 0:_.currentPlatform)||void 0===o?void 0:o.getPlatform)||(()=>null!==g?g.name:(c=>{var o,a;return null!=c&&c.androidBridge?"android":null!==(a=null===(o=null==c?void 0:c.webkit)||void 0===o?void 0:o.messageHandlers)&&void 0!==a&&a.bridge?"ios":"web"})(c)),K=(null===(a=null==_?void 0:_.currentPlatform)||void 0===a?void 0:a.isNativePlatform)||(()=>"web"!==$()),q=(null===(h=null==_?void 0:_.currentPlatform)||void 0===h?void 0:h.isPluginAvailable)||(x=>{const O=Y.get(x);return!!(null!=O&&O.platforms.has($())||te(x))}),te=(null===(u=null==_?void 0:_.currentPlatform)||void 0===u?void 0:u.getPluginHeader)||(x=>{var O;return null===(O=p.PluginHeaders)||void 0===O?void 0:O.find(ue=>ue.name===x)}),Y=new Map,He=(null===(d=null==_?void 0:_.currentPlatform)||void 0===d?void 0:d.registerPlugin)||((x,O={})=>{const ue=Y.get(x);if(ue)return console.warn(`Capacitor plugin "${x}" already registered. Cannot register plugins twice.`),ue.proxy;const ce=$(),de=te(x);let j;const xe=function(){var L=(0,k.Z)(function*(){return!j&&ce in O?j=j="function"==typeof O[ce]?yield O[ce]():O[ce]:null!==g&&!j&&"web"in O&&(j=j="function"==typeof O.web?yield O.web():O.web),j});return function(){return L.apply(this,arguments)}}(),fe=L=>{let D;const H=(...Q)=>{const ie=xe().then(I=>{const le=((L,D)=>{var H,Q;if(!de){if(L)return null===(Q=L[D])||void 0===Q?void 0:Q.bind(L);throw new re(`"${x}" plugin is not implemented on ${ce}`,S.Unimplemented)}{const ie=null==de?void 0:de.methods.find(I=>D===I.name);if(ie)return"promise"===ie.rtype?I=>p.nativePromise(x,D.toString(),I):(I,le)=>p.nativeCallback(x,D.toString(),I,le);if(L)return null===(H=L[D])||void 0===H?void 0:H.bind(L)}})(I,L);if(le){const ve=le(...Q);return D=null==ve?void 0:ve.remove,ve}throw new re(`"${x}.${L}()" is not implemented on ${ce}`,S.Unimplemented)});return"addListener"===L&&(ie.remove=(0,k.Z)(function*(){return D()})),ie};return H.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty(H,"name",{value:L,writable:!1,configurable:!1}),H},Te=fe("addListener"),Se=fe("removeListener"),ne=(L,D)=>{const H=Te({eventName:L},D),Q=function(){var I=(0,k.Z)(function*(){const le=yield H;Se({eventName:L,callbackId:le},D)});return function(){return I.apply(this,arguments)}}(),ie=new Promise(I=>H.then(()=>I({remove:Q})));return ie.remove=(0,k.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Q()}),ie},_e=new Proxy({},{get(L,D){switch(D){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return de?ne:Te;case"removeListener":return Se;default:return fe(D)}}});return v[x]=_e,Y.set(x,{name:x,proxy:_e,platforms:new Set([...Object.keys(O),...de?[ce]:[]])}),_e});return p.convertFileSrc||(p.convertFileSrc=x=>x),p.getPlatform=$,p.handleError=x=>c.console.error(x),p.isNativePlatform=K,p.isPluginAvailable=q,p.pluginMethodNoop=(x,O,ue)=>Promise.reject(`${ue} does not have an implementation of "${O}".`),p.registerPlugin=He,p.Exception=re,p.DEBUG=!!p.DEBUG,p.isLoggingEnabled=!!p.isLoggingEnabled,p.platform=p.getPlatform(),p.isNative=p.isNativePlatform(),p},z=(c=>c.Capacitor=ee(c))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),J=z.registerPlugin;class we{constructor(o){this.listeners={},this.windowListeners={},o&&(console.warn(`Capacitor WebPlugin "${o.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=o)}addListener(o,a){var h=this;this.listeners[o]||(this.listeners[o]=[]),this.listeners[o].push(a);const d=this.windowListeners[o];d&&!d.registered&&this.addWindowListener(d);const g=function(){var v=(0,k.Z)(function*(){return h.removeListener(o,a)});return function(){return v.apply(this,arguments)}}(),p=Promise.resolve({remove:g});return Object.defineProperty(p,"remove",{value:(v=(0,k.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield g()}),function(){return v.apply(this,arguments)})}),p;var v}removeAllListeners(){var o=this;return(0,k.Z)(function*(){o.listeners={};for(const a in o.windowListeners)o.removeWindowListener(o.windowListeners[a]);o.windowListeners={}})()}notifyListeners(o,a){const h=this.listeners[o];h&&h.forEach(u=>u(a))}hasListeners(o){return!!this.listeners[o].length}registerWindowListener(o,a){this.windowListeners[a]={registered:!1,windowEventName:o,pluginEventName:a,handler:h=>{this.notifyListeners(a,h)}}}unimplemented(o="not implemented"){return new z.Exception(o,S.Unimplemented)}unavailable(o="not available"){return new z.Exception(o,S.Unavailable)}removeListener(o,a){var h=this;return(0,k.Z)(function*(){const u=h.listeners[o];if(!u)return;const d=u.indexOf(a);h.listeners[o].splice(d,1),h.listeners[o].length||h.removeWindowListener(h.windowListeners[o])})()}addWindowListener(o){window.addEventListener(o.windowEventName,o.handler),o.registered=!0}removeWindowListener(o){!o||(window.removeEventListener(o.windowEventName,o.handler),o.registered=!1)}}const F=c=>encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class me extends we{setCookie(o){return(0,k.Z)(function*(){try{const a=F(o.key),h=F(o.value),u=`; expires=${(o.expires||"").replace("expires=","")}`,d=(o.path||"/").replace("path=","");document.cookie=`${a}=${h||""}${u}; path=${d}`}catch(a){return Promise.reject(a)}})()}deleteCookie(o){return(0,k.Z)(function*(){try{document.cookie=`${o.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}})()}clearCookies(){return(0,k.Z)(function*(){try{const o=document.cookie.split(";")||[];for(const a of o)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(o){return Promise.reject(o)}})()}clearAllCookies(){var o=this;return(0,k.Z)(function*(){try{yield o.clearCookies()}catch(a){return Promise.reject(a)}})()}}J("CapacitorCookies",{web:()=>new me});const A=function(){var c=(0,k.Z)(function*(o){return new Promise((a,h)=>{const u=new FileReader;u.onload=()=>{const d=u.result;a(d.indexOf(",")>=0?d.split(",")[1]:d)},u.onerror=d=>h(d),u.readAsDataURL(o)})});return function(a){return c.apply(this,arguments)}}();class y extends we{request(o){return(0,k.Z)(function*(){const a=((c,o={})=>{const a=Object.assign({method:c.method||"GET",headers:c.headers},o),u=((c={})=>{const o=Object.keys(c);return Object.keys(c).map(u=>u.toLocaleLowerCase()).reduce((u,d,g)=>(u[d]=c[o[g]],u),{})})(c.headers)["content-type"]||"";if("string"==typeof c.data)a.body=c.data;else if(u.includes("application/x-www-form-urlencoded")){const d=new URLSearchParams;for(const[g,p]of Object.entries(c.data||{}))d.set(g,p);a.body=d.toString()}else if(u.includes("multipart/form-data")){const d=new FormData;if(c.data instanceof FormData)c.data.forEach((p,v)=>{d.append(v,p)});else for(const p of Object.keys(c.data))d.append(p,c.data[p]);a.body=d;const g=new Headers(a.headers);g.delete("content-type"),a.headers=g}else(u.includes("application/json")||"object"==typeof c.data)&&(a.body=JSON.stringify(c.data));return a})(o,o.webFetchExtra),h=((c,o=!0)=>c?Object.entries(c).reduce((h,u)=>{const[d,g]=u;let p,v;return Array.isArray(g)?(v="",g.forEach(_=>{p=o?encodeURIComponent(_):_,v+=`${d}=${p}&`}),v.slice(0,-1)):(p=o?encodeURIComponent(g):g,v=`${d}=${p}`),`${h}&${v}`},"").substr(1):null)(o.params,o.shouldEncodeUrlParams),u=h?`${o.url}?${h}`:o.url,d=yield fetch(u,a),g=d.headers.get("content-type")||"";let v,_,{responseType:p="text"}=d.ok?o:{};switch(g.includes("application/json")&&(p="json"),p){case"arraybuffer":case"blob":_=yield d.blob(),v=yield A(_);break;case"json":v=yield d.json();break;default:v=yield d.text()}const B={};return d.headers.forEach(($,V)=>{B[V]=$}),{data:v,headers:B,status:d.status,url:d.url}})()}get(o){var a=this;return(0,k.Z)(function*(){return a.request(Object.assign(Object.assign({},o),{method:"GET"}))})()}post(o){var a=this;return(0,k.Z)(function*(){return a.request(Object.assign(Object.assign({},o),{method:"POST"}))})()}put(o){var a=this;return(0,k.Z)(function*(){return a.request(Object.assign(Object.assign({},o),{method:"PUT"}))})()}patch(o){var a=this;return(0,k.Z)(function*(){return a.request(Object.assign(Object.assign({},o),{method:"PATCH"}))})()}delete(o){var a=this;return(0,k.Z)(function*(){return a.request(Object.assign(Object.assign({},o),{method:"DELETE"}))})()}}J("CapacitorHttp",{web:()=>new y})},5417:($e,he,b)=>{"use strict";b.r(he),b.d(he,{HomePageModule:()=>Mt});var k={};b.r(k),b.d(k,{Decoder:()=>Ge,Encoder:()=>bt,PacketType:()=>w,protocol:()=>vt});var se=b(9808),E=b(5056),U=b(4182),W=b(8808),T=b(655),s=b(9863),S=b(7423);const re=(0,S.fo)("CapacitorVideoPlayer",{web:()=>b.e(8789).then(b.bind(b,8789)).then(i=>new i.CapacitorVideoPlayerWeb)});var Z=b(2654),ee=b(9426),Pe=b(1764);const z=(0,S.fo)("Preferences",{web:()=>b.e(8359).then(b.bind(b,8359)).then(i=>new i.PreferencesWeb)});var J=(()=>{return(i=J||(J={})).Documents="DOCUMENTS",i.Data="DATA",i.Library="LIBRARY",i.Cache="CACHE",i.External="EXTERNAL",i.ExternalStorage="EXTERNAL_STORAGE",J;var i})();const oe=(0,S.fo)("Filesystem",{web:()=>b.e(6364).then(b.bind(b,6364)).then(i=>new i.FilesystemWeb)});let F=(()=>{class i{constructor(e){this.loadingCtrl=e,this.videos=[],this.VIDEOS_KEY="videos",this.isReady=!1,this.convertBlobToBase64=n=>new Promise((r,l)=>{const m=new FileReader;m.onerror=l,m.onload=()=>{r(m.result)},m.readAsDataURL(n)})}loadVideos(){return(0,T.mG)(this,void 0,void 0,function*(){const e=yield z.get({key:this.VIDEOS_KEY});return this.videos=JSON.parse(e.value)||[],this.videos})}storeVideo(e){return(0,T.mG)(this,void 0,void 0,function*(){const n=(new Date).getTime()+".mp4",r=yield this.convertBlobToBase64(e),l=yield oe.writeFile({path:n,data:r,directory:J.Data});return this.videos.unshift(l.uri),z.set({key:this.VIDEOS_KEY,value:JSON.stringify(this.videos)})})}blobToGif(e){return(0,T.mG)(this,void 0,void 0,function*(){})}blobToBase64(e){return new Promise((n,r)=>{const l=new FileReader;l.onloadend=()=>n(l.result),l.readAsDataURL(e)})}getVideoUrl(e){return(0,T.mG)(this,void 0,void 0,function*(){const n=e.substr(e.lastIndexOf("/")+1);return`data:image/png;base64,${(yield oe.readFile({path:n,directory:J.Data})).data}`})}DataURIToBlob(e){const n=e.split(","),r=n[0].indexOf("base64")>=0?atob(n[1]):decodeURI(n[1]),l=n[0].split(":")[1].split(";")[0],m=new Uint8Array(r.length);for(let P=0;P<r.length;P++)m[P]=r.charCodeAt(P);return new Blob([m],{type:l})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(E.HT))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var me=b(6858),ge=b(8819),A=b(1188),C=b(6498);const N=Object.create(null);N.open="0",N.close="1",N.ping="2",N.pong="3",N.message="4",N.upgrade="5",N.noop="6";const ae=Object.create(null);Object.keys(N).forEach(i=>{ae[N[i]]=i});const y={type:"error",data:"parser error"},f="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"==typeof ArrayBuffer,h=(i,t)=>{const e=new FileReader;return e.onload=function(){const n=e.result.split(",")[1];t("b"+n)},e.readAsDataURL(i)},u=({type:i,data:t},e,n)=>f&&t instanceof Blob?e?n(t):h(t,n):c&&(t instanceof ArrayBuffer||(i=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer)(t))?e?n(t):h(new Blob([t]),n):n(N[i]+(t||"")),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let i=0;i<d.length;i++)g[d.charCodeAt(i)]=i;const _="function"==typeof ArrayBuffer,$=(i,t)=>{if(_){const e=(i=>{let n,l,m,P,G,t=.75*i.length,e=i.length,r=0;"="===i[i.length-1]&&(t--,"="===i[i.length-2]&&t--);const be=new ArrayBuffer(t),pe=new Uint8Array(be);for(n=0;n<e;n+=4)l=g[i.charCodeAt(n)],m=g[i.charCodeAt(n+1)],P=g[i.charCodeAt(n+2)],G=g[i.charCodeAt(n+3)],pe[r++]=l<<2|m>>4,pe[r++]=(15&m)<<4|P>>2,pe[r++]=(3&P)<<6|63&G;return be})(i);return V(e,t)}return{base64:!0,data:i}},V=(i,t)=>"blob"===t&&i instanceof ArrayBuffer?new Blob([i]):i,K=(i,t)=>{if("string"!=typeof i)return{type:"message",data:V(i,t)};const e=i.charAt(0);return"b"===e?{type:"message",data:$(i.substring(1),t)}:ae[e]?i.length>1?{type:ae[e],data:i.substring(1)}:{type:ae[e]}:y},M=String.fromCharCode(30);function R(i){if(i)return function Ue(i){for(var t in R.prototype)i[t]=R.prototype[t];return i}(i)}R.prototype.on=R.prototype.addEventListener=function(i,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(t),this},R.prototype.once=function(i,t){function e(){this.off(i,e),t.apply(this,arguments)}return e.fn=t,this.on(i,e),this},R.prototype.off=R.prototype.removeListener=R.prototype.removeAllListeners=R.prototype.removeEventListener=function(i,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+i],this;for(var n,r=0;r<e.length;r++)if((n=e[r])===t||n.fn===t){e.splice(r,1);break}return 0===e.length&&delete this._callbacks["$"+i],this},R.prototype.emitReserved=R.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+i],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){n=0;for(var r=(e=e.slice(0)).length;n<r;++n)e[n].apply(this,t)}return this},R.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},R.prototype.hasListeners=function(i){return!!this.listeners(i).length};const Y="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Re(i,...t){return t.reduce((e,n)=>(i.hasOwnProperty(n)&&(e[n]=i[n]),e),{})}const He=setTimeout,x=clearTimeout;function O(i,t){t.useNativeTimers?(i.setTimeoutFn=He.bind(Y),i.clearTimeoutFn=x.bind(Y)):(i.setTimeoutFn=setTimeout.bind(Y),i.clearTimeoutFn=clearTimeout.bind(Y))}function ce(i){return"string"==typeof i?function de(i){let t=0,e=0;for(let n=0,r=i.length;n<r;n++)t=i.charCodeAt(n),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(n++,e+=4);return e}(i):Math.ceil(1.33*(i.byteLength||i.size))}class j extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class xe extends R{constructor(t){super(),this.writable=!1,O(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new j(t,e,n)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=K(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const Le="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Te={};let _e,Se=0,ne=0;function L(i){let t="";do{t=Le[i%64]+t,i=Math.floor(i/64)}while(i>0);return t}function H(){const i=L(+new Date);return i!==_e?(Se=0,_e=i):i+"."+L(Se++)}for(;ne<64;ne++)Te[Le[ne]]=ne;function Q(i){let t="";for(let e in i)i.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return t}let I=!1;try{I="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(i){}const le=I;function ve(i){const t=i.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||le))return new XMLHttpRequest}catch(e){}if(!t)try{return new(Y[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function tt(){}const nt=null!=new ve({xdomain:!1}).responseType;let Me=(()=>{class i extends R{constructor(e,n){super(),O(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.async=!1!==n.async,this.data=void 0!==n.data?n.data:null,this.create()}create(){const e=Re(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const n=this.xhr=new ve(e);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch(r){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof n.status?n.status:0)},0))},n.send(this.data)}catch(r){return void this.setTimeoutFn(()=>{this.onError(r)},0)}"undefined"!=typeof document&&(this.index=i.requestsCount++,i.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(null!=this.xhr){if(this.xhr.onreadystatechange=tt,e)try{this.xhr.abort()}catch(n){}"undefined"!=typeof document&&delete i.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return i.requestsCount=0,i.requests={},i})();function ze(){for(let i in Me.requests)Me.requests.hasOwnProperty(i)&&Me.requests[i].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",ze):"function"==typeof addEventListener&&addEventListener("onpagehide"in Y?"pagehide":"unload",ze,!1));const Je="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Ne=Y.WebSocket||Y.MozWebSocket,Ke="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),ot={websocket:class rt extends xe{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=Ke?{}:Re(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ke?new Ne(t,e,n):e?new Ne(t,e):new Ne(t)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const r=e===t.length-1;u(t[e],this.supportsBinary,l=>{try{this.ws.send(l)}catch(P){}r&&Je(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=H()),this.supportsBinary||(t.b64=1);const r=Q(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!!Ne}},polling:class it extends xe{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const n="https:"===location.protocol;let r=location.port;r||(r=n?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==n}this.supportsBinary=nt&&!(t&&t.forceBase64)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((i,t)=>{const e=i.split(M),n=[];for(let r=0;r<e.length;r++){const l=K(e[r],t);if(n.push(l),"error"===l.type)break}return n})(t,this.socket.binaryType).forEach(n=>{if("opening"===this.readyState&&"open"===n.type&&this.onOpen(),"close"===n.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((i,t)=>{const e=i.length,n=new Array(e);let r=0;i.forEach((l,m)=>{u(l,!1,P=>{n[m]=P,++r===e&&t(n.join(M))})})})(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=H()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=Q(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Me(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(r,l)=>{this.onError("xhr post error",r,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=t}}},at=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ct=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fe(i){const t=i,e=i.indexOf("["),n=i.indexOf("]");-1!=e&&-1!=n&&(i=i.substring(0,e)+i.substring(e,n).replace(/:/g,";")+i.substring(n,i.length));let r=at.exec(i||""),l={},m=14;for(;m--;)l[ct[m]]=r[m]||"";return-1!=e&&-1!=n&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=function lt(i,t){const n=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.slice(0,1)||0===t.length)&&n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,l.path),l.queryKey=function ht(i,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,l){r&&(e[r]=l)}),e}(0,l.query),l}let je=(()=>{class i extends R{constructor(e,n={}){super(),e&&"object"==typeof e&&(n=e,e=null),e?(e=Fe(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=Fe(n.host).host),O(this,n),this.secure=null!=n.secure?n.secure:"undefined"!=typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=n.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function ie(i){let t={},e=i.split("&");for(let n=0,r=e.length;n<r;n++){let l=e[n].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=4,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ot[e](r)}open(){let e;if(this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),r=!1;i.priorWebsocketSuccess=!1;const l=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",Ce=>{if(!r)if("pong"===Ce.type&&"probe"===Ce.data){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;i.priorWebsocketSuccess="websocket"===n.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(et(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const Ae=new Error("probe error");Ae.transport=n.name,this.emitReserved("upgradeError",Ae)}}))};function m(){r||(r=!0,et(),n.close(),n=null)}const P=Ce=>{const Ae=new Error("probe error: "+Ce);Ae.transport=n.name,m(),this.emitReserved("upgradeError",Ae)};function G(){P("transport closed")}function be(){P("socket closed")}function pe(Ce){n&&Ce.name!==n.name&&m()}const et=()=>{n.removeListener("open",l),n.removeListener("error",P),n.removeListener("close",G),this.off("close",be),this.off("upgrading",pe)};n.once("open",l),n.once("error",P),n.once("close",G),this.once("close",be),this.once("upgrading",pe),n.open()}onOpen(){if(this.readyState="open",i.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const l=this.writeBuffer[r].data;if(l&&(n+=ce(l)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,l){if("function"==typeof n&&(l=n,n=void 0),"function"==typeof r&&(l=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const m={type:e,data:n,options:r};this.emitReserved("packetCreate",m),this.writeBuffer.push(m),l&&this.once("flush",l),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){i.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const l=e.length;for(;r<l;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}return i.protocol=4,i})();const dt="function"==typeof ArrayBuffer,Qe=Object.prototype.toString,pt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Qe.call(Blob),mt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Qe.call(File);function Ve(i){return dt&&(i instanceof ArrayBuffer||(i=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer)(i))||pt&&i instanceof Blob||mt&&i instanceof File}function Be(i,t){if(!i||"object"!=typeof i)return!1;if(Array.isArray(i)){for(let e=0,n=i.length;e<n;e++)if(Be(i[e]))return!0;return!1}if(Ve(i))return!0;if(i.toJSON&&"function"==typeof i.toJSON&&1===arguments.length)return Be(i.toJSON(),!0);for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&Be(i[e]))return!0;return!1}function gt(i){const t=[],n=i;return n.data=qe(i.data,t),n.attachments=t.length,{packet:n,buffers:t}}function qe(i,t){if(!i)return i;if(Ve(i)){const e={_placeholder:!0,num:t.length};return t.push(i),e}if(Array.isArray(i)){const e=new Array(i.length);for(let n=0;n<i.length;n++)e[n]=qe(i[n],t);return e}if("object"==typeof i&&!(i instanceof Date)){const e={};for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=qe(i[n],t));return e}return i}function yt(i,t){return i.data=Ye(i.data,t),i.attachments=void 0,i}function Ye(i,t){if(!i)return i;if(i&&!0===i._placeholder){if("number"==typeof i.num&&i.num>=0&&i.num<t.length)return t[i.num];throw new Error("illegal attachments")}if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=Ye(i[e],t);else if("object"==typeof i)for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=Ye(i[e],t));return i}const vt=5;var w=(()=>{return(i=w||(w={}))[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",w;var i})();class bt{constructor(t){this.replacer=t}encode(t){return t.type!==w.EVENT&&t.type!==w.ACK||!Be(t)?[this.encodeAsString(t)]:(t.type=t.type===w.EVENT?w.BINARY_EVENT:w.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return(t.type===w.BINARY_EVENT||t.type===w.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=gt(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}class Ge extends R{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t),e.type===w.BINARY_EVENT||e.type===w.BINARY_ACK?(this.reconstructor=new wt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!Ve(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===w[n.type])throw new Error("unknown packet type "+n.type);if(n.type===w.BINARY_EVENT||n.type===w.BINARY_ACK){const l=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const m=t.substring(l,e);if(m!=Number(m)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(m)}if("/"===t.charAt(e+1)){const l=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(l,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const l=e+1;for(;++e;){const m=t.charAt(e);if(null==m||Number(m)!=m){--e;break}if(e===t.length)break}n.id=Number(t.substring(l,e+1))}if(t.charAt(++e)){const l=this.tryParse(t.substr(e));if(!Ge.isPayloadValid(n.type,l))throw new Error("invalid payload");n.data=l}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}static isPayloadValid(t,e){switch(t){case w.CONNECT:return"object"==typeof e;case w.DISCONNECT:return void 0===e;case w.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case w.EVENT:case w.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case w.ACK:case w.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class wt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=yt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function X(i,t,e){return i.on(t,e),function(){i.off(t,e)}}const _t=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Xe extends R{constructor(t,e,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[X(t,"open",this.onopen.bind(this)),X(t,"packet",this.onpacket.bind(this)),X(t,"error",this.onerror.bind(this)),X(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(_t.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');e.unshift(t);const n={type:w.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const m=this.ids++,P=e.pop();this._registerAckCallback(m,P),n.id=m}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){const n=this.flags.timeout;if(void 0===n)return void(this.acks[t]=e);const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);e.call(this,new Error("operation has timed out"))},n);this.acks[t]=(...l)=>{this.io.clearTimeoutFn(r),e.apply(this,[null,...l])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this.packet({type:w.CONNECT,data:t})}):this.packet({type:w.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case w.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case w.EVENT:case w.BINARY_EVENT:this.onevent(t);break;case w.ACK:case w.BINARY_ACK:this.onack(t);break;case w.DISCONNECT:this.ondisconnect();break;case w.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,e.packet({type:w.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:w.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function Ee(i){this.ms=(i=i||{}).min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Ee.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*i);i=0==(1&Math.floor(10*t))?i-e:i+e}return 0|Math.min(i,this.max)},Ee.prototype.reset=function(){this.attempts=0},Ee.prototype.setMin=function(i){this.ms=i},Ee.prototype.setMax=function(i){this.max=i},Ee.prototype.setJitter=function(i){this.jitter=i};class We extends R{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,O(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Ee({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const r=e.parser||k;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new je(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=X(e,"open",function(){n.onopen(),t&&t()}),l=X(e,"error",m=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",m),t?t(m):n.maybeReconnectOnOpen()});if(!1!==this._timeout){const m=this._timeout;0===m&&r();const P=this.setTimeoutFn(()=>{r(),e.close(),e.emit("error",new Error("timeout"))},m);this.opts.autoUnref&&P.unref(),this.subs.push(function(){clearTimeout(P)})}return this.subs.push(r),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(X(t,"ping",this.onping.bind(this)),X(t,"data",this.ondata.bind(this)),X(t,"error",this.onerror.bind(this)),X(t,"close",this.onclose.bind(this)),X(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Je(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new Xe(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Oe={};function De(i,t){"object"==typeof i&&(t=i,i=void 0);const e=function ut(i,t="",e){let n=i;e=e||"undefined"!=typeof location&&location,null==i&&(i=e.protocol+"//"+e.host),"string"==typeof i&&("/"===i.charAt(0)&&(i="/"===i.charAt(1)?e.protocol+i:e.host+i),/^(https?|wss?):\/\//.test(i)||(i=void 0!==e?e.protocol+"//"+i:"https://"+i),n=Fe(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const l=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+t,n.href=n.protocol+"://"+l+(e&&e.port===n.port?"":":"+n.port),n}(i,(t=t||{}).path||"/socket.io"),n=e.source,r=e.id;let G;return t.forceNew||t["force new connection"]||!1===t.multiplex||Oe[r]&&e.path in Oe[r].nsps?G=new We(n,t):(Oe[r]||(Oe[r]=new We(n,t)),G=Oe[r]),e.query&&!t.query&&(t.query=e.queryKey),G.socket(e.path,t)}Object.assign(De,{Manager:We,Socket:Xe,io:De,connect:De});let Et=(()=>{class i{constructor(){this.url="https://192.168.1.104:3000/",this.socket=De(this.url),console.log(this.socket),setTimeout(()=>{!0===this.socket.connected&&(this.socketID=this.socket.id,console.log(this.socketID))},300)}listen(e){return new C.y(n=>{this.socket.on(e,r=>{n.next(r)})})}emit(e,n){this.socket.emit(e,n)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ct=["video"],Pt=["delayEffect"],kt=["recordEffect"];function Tt(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"ion-button",15),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.navBack())}),s._UZ(1,"ion-icon",16),s.qZA()}}function St(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"ion-fab",17)(1,"ion-fab-button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.startVideo())}),s._UZ(2,"ion-icon",19),s.qZA()()}if(2&i){const e=s.oxw();s.Q6J("vertical",e.position)("hidden",e.isRecording)}}function Ot(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"ion-fab-button",15),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.isRecording?r.stopRecord():r.delayRecord())}),s._UZ(1,"ion-icon",21),s.qZA()}if(2&i){const e=s.oxw(2);s.xp6(1),s.Q6J("name",e.isRecording?"stop":"videocam")}}function At(i,t){if(1&i&&(s.TgZ(0,"ion-fab",20),s.YNc(1,Ot,2,1,"ion-fab-button",1),s.qZA()),2&i){const e=s.oxw();s.Q6J("vertical",e.position)("hidden",e.isRecording),s.xp6(1),s.Q6J("ngIf",!e.delayStarted)}}function Rt(i,t){if(1&i){const e=s.EpF();s.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",15),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.cancel())}),s._uU(4,"Fechar"),s.qZA()(),s.TgZ(5,"ion-title"),s._uU(6,"Configura\xe7\xe3o"),s.qZA()()(),s.TgZ(7,"ion-content",22)(8,"div")(9,"ion-list")(10,"ion-item")(11,"ion-label"),s._uU(12,"Config. Tempo"),s.qZA(),s.TgZ(13,"ion-select",23),s.NdJ("ngModelChange",function(r){s.CHM(e);const l=s.oxw();return s.KtG(l.segundos=r)}),s.TgZ(14,"ion-select-option",24),s._uU(15,"15 seg"),s.qZA(),s.TgZ(16,"ion-select-option",25),s._uU(17,"12 seg"),s.qZA(),s.TgZ(18,"ion-select-option",26),s._uU(19,"10 seg"),s.qZA(),s.TgZ(20,"ion-select-option",27),s._uU(21,"7 seg"),s.qZA(),s.TgZ(22,"ion-select-option",28),s._uU(23,"5 seg"),s.qZA()()(),s.TgZ(24,"ion-item")(25,"ion-label"),s._uU(26,"Config. Efeitos"),s.qZA(),s.TgZ(27,"ion-select",29),s.NdJ("ngModelChange",function(r){s.CHM(e);const l=s.oxw();return s.KtG(l.efeito=r)}),s.TgZ(28,"ion-select-option",30),s._uU(29,"Mix"),s.qZA(),s.TgZ(30,"ion-select-option",31),s._uU(31,"Boomerang"),s.qZA(),s.TgZ(32,"ion-select-option",32),s._uU(33,"SlowMotion"),s.qZA(),s.TgZ(34,"ion-select-option",33),s._uU(35,"Nenhum"),s.qZA()()()()()()}if(2&i){const e=s.oxw();s.xp6(13),s.Q6J("ngModel",e.segundos),s.xp6(14),s.Q6J("ngModel",e.efeito)}}const xt=[{path:"",component:(()=>{class i{constructor(e,n,r,l,m,P,G,be,pe){this.videoService=e,this.changeDetector=n,this.http=r,this.eventoService=l,this.router=m,this.storage=P,this.socket=G,this.toastController=be,this.animationCtrl=pe,this.isRecording=!1,this.videos=[],this.counter=1,this.camera="user",this.efeito=0,this.segundos=12e3,this.delay=8,this.isReady=!1,this.showCamera=!1,this.subscription=new Z.w,this.delayStarted=!1,this.position="top"}ngOnInit(){return(0,T.mG)(this,void 0,void 0,function*(){const e=this.storage.get("selectedEvento")||null;this.subscription=this.eventoService.currentConfig.subscribe(n=>(0,T.mG)(this,void 0,void 0,function*(){null==JSON.stringify(n)?e?(this.apiUrl=this.storage.get("apiUrl")||"",this.evento=e,this.position=e.position?e.position:"center",console.log(typeof e.vNormal),console.log(typeof e.vFast),console.log(typeof e.vSlow),e.vNormal=parseInt(e.vNormal,10),e.vFast=parseInt(e.vFast,10),e.vSlow=parseInt(e.vSlow,10),this.eventoDetails={name:e.nome.replace(/[^A-Z0-9]+/gi,"_"),audio:"null"!==e.audioName?e.audioName:"",frame:"null"!==e.frameName?e.frameName:"",vNormal:e.vNormal,vFast:e.vFast,vSlow:e.vSlow},this.segundos=1e3*this.evento.tempo,this.apiUrl.length&&ee.P.get("apiUrl").emit(this.apiUrl)):this.router.navigate(["config"]):(this.evento=n,this.storage.set("selectedEvento",n),this.position=n.position?n.position:"center",this.segundos=1e3*this.evento.tempo,console.log(typeof n.vNormal),console.log(typeof n.vFast),console.log(typeof n.vSlow),n.vNormal=parseInt(n.vNormal,10),n.vFast=parseInt(n.vFast,10),n.vSlow=parseInt(n.vSlow,10),this.eventoDetails={name:n.nome.replace(/[^A-Z0-9]+/gi,"_"),audio:"null"!==n.audioName?n.audioName:"",frame:"null"!==n.frameName?n.frameName:"",vNormal:n.vNormal,vFast:n.vFast,vSlow:n.vSlow})})),this.socketListen()})}ngAfterViewInit(){return(0,T.mG)(this,void 0,void 0,function*(){this.videos=yield this.videoService.loadVideos(),this.videoPlayer=re})}ngOnDestroy(){this.subscription.unsubscribe(),this.eventoDetails=null,this.storage.remove("selectedEvento"),this.stream&&this.stream.getTracks().forEach(e=>{e.stop()})}socketListen(){this.socket.listen("startGiraGira").subscribe(e=>{console.log(this.router.url),"/home"===this.router.url&&e.data&&(this.startVideo(),setTimeout(()=>{this.delayRecord()},500))})}changeSegundos(e){}pulse(){this.animationCtrl.create().addElement(this.delayEffect.nativeElement).duration(1e3).fromTo("opacity","1","0").iterations(1/0).keyframes([{offset:0,transform:"scale(1.5) ",opacity:"0",filter:"blur(10px)"},{offset:.5,transform:"scale(0.85) ",opacity:"0.75",filter:"blur(5px)"},{offset:1,transform:"scale(0.4) ",opacity:"1",filter:"blur(0)"}]).play()}pulseRecord(){this.animationCtrl.create().addElement(this.recordEffect.nativeElement).duration(1e3).fromTo("opacity","1","0").iterations(1/0).keyframes([{offset:0,transform:"scale(1.5) ",opacity:"0",filter:"blur(10px)"},{offset:.5,transform:"scale(0.85) ",opacity:"0.75",filter:"blur(5px)"},{offset:1,transform:"scale(0.4) ",opacity:"1",filter:"blur(0)"}]).play()}startVideo(){return(0,T.mG)(this,void 0,void 0,function*(){let e;this.showCamera=!0,this.changeDetector.detectChanges(),this.stream=yield navigator.mediaDevices.getUserMedia({video:{width:{ideal:1080},height:{ideal:720},deviceId:this.evento.videoInput.deviceId?this.evento.videoInput.deviceId:void 0},audio:!1}),this.captureElement.nativeElement.srcObject=this.stream,MediaRecorder.isTypeSupported("video/webm")?e={mimeType:"video/webm"}:MediaRecorder.isTypeSupported("video/webm; codecs=vp9")?e={mimeType:"video/webm; codecs=vp9"}:MediaRecorder.isTypeSupported("video/mp4")?e={mimeType:"video/mp4"}:console.error("no suitable mimetype found for this device"),this.mediaRecorder=new MediaRecorder(this.stream,e),this.changeDetector.detectChanges()})}delayRecord(){return(0,T.mG)(this,void 0,void 0,function*(){this.pulse(),this.delayStarted=!0,this.changeDetector.detectChanges(),this.intervalDelay=setInterval(()=>{this.delay--,0===this.delay&&(this.recordVideo(),this.delay=8),2===this.delay&&this.startGiraGira(),this.changeDetector.detectChanges()},1e3)})}startGiraGira(){return(0,T.mG)(this,void 0,void 0,function*(){this.http.startGiraGira()})}recordVideo(){return(0,T.mG)(this,void 0,void 0,function*(){clearInterval(this.intervalDelay),this.delayStarted=!1,this.isRecording=!0;let e=[];this.changeDetector.detectChanges(),this.counter=0,this.interval=setInterval(()=>{this.counter++,this.changeDetector.detectChanges()},1e3),setTimeout(()=>{this.stopRecord()},this.segundos),this.mediaRecorder.onstop=n=>(0,T.mG)(this,void 0,void 0,function*(){const r=new Blob(e,{type:"video/mp4"}),l=Pe().format("YYYY-MM-DD_HH_mm_ss")+".mp4";yield this.videoService.storeVideo(r);const m=new FormData;console.log(l),m.append("evento",JSON.stringify(this.eventoDetails)),m.append("file",r,l),m.forEach(P=>{}),this.http.sendVideo(m),this.mediaRecorder=null,this.showCamera=!1,this.stream=null,this.captureElement.nativeElement.srcObject=null,this.videos=this.videoService.videos,this.changeDetector.detectChanges(),setTimeout(()=>{this.http.stopGiraGira()},1e3)}),this.mediaRecorder.ondataavailable=n=>{n.data&&n.data.size>0&&e.push(n.data)},this.mediaRecorder.start(100),this.isRecording=!0})}stopRecord(){clearInterval(this.interval),this.stream.getTracks().forEach(e=>{e.stop()}),this.counter=1,this.mediaRecorder=null,this.captureElement.nativeElement.srcObject=null,this.isRecording=!1,this.changeDetector.detectChanges()}sendVideo(e){return(0,T.mG)(this,void 0,void 0,function*(){const n=yield this.videoService.getVideoUrl(e),r=(new Date).getTime()+".mp4",l=yield this.videoService.DataURIToBlob(n),m=new FormData;m.append("file",l,r),this.http.sendVideo(m)})}blobToGif(e){return(0,T.mG)(this,void 0,void 0,function*(){const n=yield this.videoService.getVideoUrl(e);yield this.videoService.DataURIToBlob(n)})}play(e){return(0,T.mG)(this,void 0,void 0,function*(){const n=yield this.videoService.getVideoUrl(e);yield this.videoPlayer.initPlayer({mode:"fullscreen",url:n,playerId:"fullscreen",componentTag:"app-home"})})}cancel(){this.modal.dismiss(null,"cancel")}selectVideoSource(e){}navBack(){this.stream&&this.stopRecord(),this.router.navigate(["config"])}}return i.\u0275fac=function(e){return new(e||i)(s.Y36(F),s.Y36(s.sBO),s.Y36(me.O),s.Y36(ge.k),s.Y36(W.F0),s.Y36(A.V),s.Y36(Et),s.Y36(E.yF),s.Y36(E.vB))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-home"]],viewQuery:function(e,n){if(1&e&&(s.Gf(Ct,5),s.Gf(E.ki,5),s.Gf(Pt,7,s.SBq),s.Gf(kt,7,s.SBq)),2&e){let r;s.iGM(r=s.CRH())&&(n.captureElement=r.first),s.iGM(r=s.CRH())&&(n.modal=r.first),s.iGM(r=s.CRH())&&(n.delayEffect=r.first),s.iGM(r=s.CRH())&&(n.recordEffect=r.first)}},decls:29,vars:14,consts:[["slot","start"],[3,"click",4,"ngIf"],["slot","end"],[2,"text-align","center"],[3,"fullscreen"],[1,"icon",2,"z-index","999","font-size","7rem","background","none","margin-top","2rem",3,"hidden","ngClass"],["recordEffect",""],["autoplay","","playsinline","","muted","","width","100%","height","100%",1,"video",3,"hidden"],["video",""],[1,"icon",2,"z-index","999","font-size","7rem","background","none","margin-top","2.5rem",3,"hidden","ngClass"],["delayEffect",""],["id","fullscreen","slot","fixed"],["horizontal","center","slot","fixed","style","zoom: 2;",3,"vertical","hidden",4,"ngIf"],["horizontal","center","slot","fixed","style","zoom: 2;","id","contagem",3,"vertical","hidden",4,"ngIf"],["trigger","open-modal-config"],[3,"click"],["slot","icon-only","name","arrow-back"],["horizontal","center","slot","fixed",2,"zoom","2",3,"vertical","hidden"],["color","new",3,"click"],["name","checkmark-circle-outline"],["horizontal","center","slot","fixed","id","contagem",2,"zoom","2",3,"vertical","hidden"],[3,"name"],[1,"ion-padding"],["placeholder","Tempo","id","segundos",3,"ngModel","ngModelChange"],["value","15000"],["value","12000"],["value","10000"],["value","7000"],["value","5000"],["placeholder","Efeito","id","efeito",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"]],template:function(e,n){1&e&&(s.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s.YNc(3,Tt,2,0,"ion-button",1),s.qZA(),s._UZ(4,"ion-buttons",2),s.TgZ(5,"ion-title",3),s._uU(6),s.qZA()()(),s.TgZ(7,"ion-content",4)(8,"ion-chip",5,6),s._uU(10),s.qZA(),s._UZ(11,"video",7,8),s.TgZ(13,"ion-chip",9,10),s._uU(15),s.qZA(),s._UZ(16,"div",11),s.YNc(17,St,3,2,"ion-fab",12),s.GkF(18),s.YNc(19,At,2,3,"ion-fab",13),s.TgZ(20,"ion-modal",14),s.YNc(21,Rt,36,2,"ng-template"),s.qZA()(),s.TgZ(22,"ion-footer")(23,"ion-toolbar")(24,"ion-label")(25,"p"),s._uU(26),s.qZA(),s.TgZ(27,"p"),s._uU(28),s.qZA()()()()),2&e&&(s.xp6(3),s.Q6J("ngIf",!n.showCamera),s.xp6(3),s.hij(" ",n.evento.nome," "),s.xp6(1),s.Q6J("fullscreen",!0),s.xp6(1),s.Q6J("hidden",!n.isRecording||0===n.counter)("ngClass","top"===n.position?"position-top":"center"===n.position?"position-center":"position-bottom"),s.xp6(2),s.Oqu(n.counter),s.xp6(1),s.Q6J("hidden",!n.showCamera),s.xp6(2),s.Q6J("hidden",8===n.delay)("ngClass","top"===n.position?"position-top":"center"===n.position?"position-center":"position-bottom"),s.xp6(2),s.Oqu(n.delay),s.xp6(2),s.Q6J("ngIf",8===n.delay&&!1===n.showCamera),s.xp6(2),s.Q6J("ngIf",8===n.delay&&!0===n.showCamera),s.xp6(7),s.hij("Tempo : ",n.evento.tempo," seg"),s.xp6(2),s.hij("C\xe2mera : ",n.evento.videoInput.label,""))},dependencies:[se.mk,se.O5,U.JJ,U.On,E.YG,E.Sm,E.hM,E.W2,E.IJ,E.W4,E.fr,E.Gu,E.gu,E.Ie,E.Q$,E.q_,E.t9,E.n0,E.wd,E.sr,E.ki,E.QI],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.video[_ngcontent-%COMP%]{width:100%;height:100%}.icon[_ngcontent-%COMP%]{position:fixed;left:40%;top:40%;min-height:7rem;color:#fff;text-shadow:1px 1px 5px black}.footer[_ngcontent-%COMP%]{background:#272727!important;width:100%}.position-top[_ngcontent-%COMP%]{top:5%}.position-center[_ngcontent-%COMP%]{top:40%}.position-bottom[_ngcontent-%COMP%]{top:80%}"]}),i})()}];let Lt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[W.Bz.forChild(xt),W.Bz]}),i})(),Mt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[se.ez,U.u5,E.Pc,Lt]}),i})()},1764:function($e){$e.exports=function(){"use strict";var b=6e4,k=36e5,se="millisecond",E="second",U="minute",W="hour",T="day",s="week",S="month",re="quarter",Z="year",ee="date",Pe="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,J=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ie={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var f=["th","st","nd","rd"],c=y%100;return"["+y+(f[(c-20)%10]||f[c]||f[0])+"]"}},ke=function(y,f,c){var o=String(y);return!o||o.length>=f?y:""+Array(f+1-o.length).join(c)+y},we={s:ke,z:function(y){var f=-y.utcOffset(),c=Math.abs(f),o=Math.floor(c/60),a=c%60;return(f<=0?"+":"-")+ke(o,2,"0")+":"+ke(a,2,"0")},m:function y(f,c){if(f.date()<c.date())return-y(c,f);var o=12*(c.year()-f.year())+(c.month()-f.month()),a=f.clone().add(o,S),h=c-a<0,u=f.clone().add(o+(h?-1:1),S);return+(-(o+(c-a)/(h?a-u:u-a))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:S,y:Z,w:s,d:T,D:ee,h:W,m:U,s:E,ms:se,Q:re}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return void 0===y}},oe="en",F={};F[oe]=Ie;var me=function(y){return y instanceof N},ge=function y(f,c,o){var a;if(!f)return oe;if("string"==typeof f){var h=f.toLowerCase();F[h]&&(a=h),c&&(F[h]=c,a=h);var u=f.split("-");if(!a&&u.length>1)return y(u[0])}else{var d=f.name;F[d]=f,a=d}return!o&&a&&(oe=a),a||!o&&oe},A=function(y,f){if(me(y))return y.clone();var c="object"==typeof f?f:{};return c.date=y,c.args=arguments,new N(c)},C=we;C.l=ge,C.i=me,C.w=function(y,f){return A(y,{locale:f.$L,utc:f.$u,x:f.$x,$offset:f.$offset})};var N=function(){function y(c){this.$L=ge(c.locale,null,!0),this.parse(c)}var f=y.prototype;return f.parse=function(c){this.$d=function(o){var a=o.date,h=o.utc;if(null===a)return new Date(NaN);if(C.u(a))return new Date;if(a instanceof Date)return new Date(a);if("string"==typeof a&&!/Z$/i.test(a)){var u=a.match(z);if(u){var d=u[2]-1||0,g=(u[7]||"0").substring(0,3);return h?new Date(Date.UTC(u[1],d,u[3]||1,u[4]||0,u[5]||0,u[6]||0,g)):new Date(u[1],d,u[3]||1,u[4]||0,u[5]||0,u[6]||0,g)}}return new Date(a)}(c),this.$x=c.x||{},this.init()},f.init=function(){var c=this.$d;this.$y=c.getFullYear(),this.$M=c.getMonth(),this.$D=c.getDate(),this.$W=c.getDay(),this.$H=c.getHours(),this.$m=c.getMinutes(),this.$s=c.getSeconds(),this.$ms=c.getMilliseconds()},f.$utils=function(){return C},f.isValid=function(){return this.$d.toString()!==Pe},f.isSame=function(c,o){var a=A(c);return this.startOf(o)<=a&&a<=this.endOf(o)},f.isAfter=function(c,o){return A(c)<this.startOf(o)},f.isBefore=function(c,o){return this.endOf(o)<A(c)},f.$g=function(c,o,a){return C.u(c)?this[o]:this.set(a,c)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(c,o){var a=this,h=!!C.u(o)||o,u=C.p(c),d=function(K,M){var q=C.w(a.$u?Date.UTC(a.$y,M,K):new Date(a.$y,M,K),a);return h?q:q.endOf(T)},g=function(K,M){return C.w(a.toDate()[K].apply(a.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(M)),a)},p=this.$W,v=this.$M,_=this.$D,B="set"+(this.$u?"UTC":"");switch(u){case Z:return h?d(1,0):d(31,11);case S:return h?d(1,v):d(0,v+1);case s:var $=this.$locale().weekStart||0,V=(p<$?p+7:p)-$;return d(h?_-V:_+(6-V),v);case T:case ee:return g(B+"Hours",0);case W:return g(B+"Minutes",1);case U:return g(B+"Seconds",2);case E:return g(B+"Milliseconds",3);default:return this.clone()}},f.endOf=function(c){return this.startOf(c,!1)},f.$set=function(c,o){var a,h=C.p(c),u="set"+(this.$u?"UTC":""),d=(a={},a[T]=u+"Date",a[ee]=u+"Date",a[S]=u+"Month",a[Z]=u+"FullYear",a[W]=u+"Hours",a[U]=u+"Minutes",a[E]=u+"Seconds",a[se]=u+"Milliseconds",a)[h],g=h===T?this.$D+(o-this.$W):o;if(h===S||h===Z){var p=this.clone().set(ee,1);p.$d[d](g),p.init(),this.$d=p.set(ee,Math.min(this.$D,p.daysInMonth())).$d}else d&&this.$d[d](g);return this.init(),this},f.set=function(c,o){return this.clone().$set(c,o)},f.get=function(c){return this[C.p(c)]()},f.add=function(c,o){var a,h=this;c=Number(c);var u=C.p(o),d=function(v){var _=A(h);return C.w(_.date(_.date()+Math.round(v*c)),h)};if(u===S)return this.set(S,this.$M+c);if(u===Z)return this.set(Z,this.$y+c);if(u===T)return d(1);if(u===s)return d(7);var g=(a={},a[U]=b,a[W]=k,a[E]=1e3,a)[u]||1,p=this.$d.getTime()+c*g;return C.w(p,this)},f.subtract=function(c,o){return this.add(-1*c,o)},f.format=function(c){var o=this,a=this.$locale();if(!this.isValid())return a.invalidDate||Pe;var h=c||"YYYY-MM-DDTHH:mm:ssZ",u=C.z(this),d=this.$H,g=this.$m,p=this.$M,v=a.weekdays,_=a.months,B=function(M,q,ye,te){return M&&(M[q]||M(o,h))||ye[q].slice(0,te)},$=function(M){return C.s(d%12||12,M,"0")},V=a.meridiem||function(M,q,ye){var te=M<12?"AM":"PM";return ye?te.toLowerCase():te},K={YY:String(this.$y).slice(-2),YYYY:this.$y,M:p+1,MM:C.s(p+1,2,"0"),MMM:B(a.monthsShort,p,_,3),MMMM:B(_,p),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:B(a.weekdaysMin,this.$W,v,2),ddd:B(a.weekdaysShort,this.$W,v,3),dddd:v[this.$W],H:String(d),HH:C.s(d,2,"0"),h:$(1),hh:$(2),a:V(d,g,!0),A:V(d,g,!1),m:String(g),mm:C.s(g,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:u};return h.replace(J,function(M,q){return q||K[M]||u.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(c,o,a){var h,u=C.p(o),d=A(c),g=(d.utcOffset()-this.utcOffset())*b,p=this-d,v=C.m(this,d);return v=(h={},h[Z]=v/12,h[S]=v,h[re]=v/3,h[s]=(p-g)/6048e5,h[T]=(p-g)/864e5,h[W]=p/k,h[U]=p/b,h[E]=p/1e3,h)[u]||p,a?v:C.a(v)},f.daysInMonth=function(){return this.endOf(S).$D},f.$locale=function(){return F[this.$L]},f.locale=function(c,o){if(!c)return this.$L;var a=this.clone(),h=ge(c,o,!0);return h&&(a.$L=h),a},f.clone=function(){return C.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},y}(),ae=N.prototype;return A.prototype=ae,[["$ms",se],["$s",E],["$m",U],["$H",W],["$W",T],["$M",S],["$y",Z],["$D",ee]].forEach(function(y){ae[y[1]]=function(f){return this.$g(f,y[0],y[1])}}),A.extend=function(y,f){return y.$i||(y(f,N,A),y.$i=!0),A},A.locale=ge,A.isDayjs=me,A.unix=function(y){return A(1e3*y)},A.en=F[oe],A.Ls=F,A.p={},A}()}}]);